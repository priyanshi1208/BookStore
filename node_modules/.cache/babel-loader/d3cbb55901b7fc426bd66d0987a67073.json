{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ayuanshi\\\\BookstoreApplication\\\\BookStore\\\\src\\\\component\\\\bookStore-cart\\\\OrderSummary.jsx\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { useState, useEffect } from 'react';\nimport StoreService from '../../service/StoreService';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction OrderSummary(props) {\n  _s();\n\n  const [userId, setUserId] = useState('');\n  const [totalAmount, setTotalAmount] = useState(0);\n  useEffect(() => {\n    new StoreService().getUserById(localStorage.getItem(\"userId\")).then(responseDTO => {\n      let responseData = responseDTO.data;\n      setUserId(responseData.data.userId);\n    }).catch(error => {\n      console.log(\"Error while Fetching Data\" + JSON.stringify(error));\n    });\n    let amount = 0;\n    JSON.parse(localStorage.getItem(\"cartDetails\")).map(books => amount = amount + books.price);\n    setTotalAmount(amount);\n  }, []);\n\n  const placeOrder = () => {\n    let bookIds = [];\n    JSON.parse(localStorage.getItem(\"cartDetails\")).map(books => bookIds.push(books.bookId));\n    let order = {\n      bookId: bookIds,\n      userId: userId\n    };\n    new StoreService().placeOrder(order).then(response => {\n      console.log(\"Data Added Successfully\");\n    }).catch(error => {\n      console.log(\"Error while Posting\", JSON.stringify(error));\n    });\n    window.location.replace(\"/summary\");\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"cart\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"cart-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"Book-container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"summary-title\",\n          children: \"Order Summary\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 21\n      }, this), JSON.parse(localStorage.getItem(\"cartDetails\")).map(books => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"details\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"book-container\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"book-cover\",\n            src: books.imgsrc,\n            alt: \"book-image\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 33\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"book-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"book-title\",\n            children: books.bookName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"author-name\",\n            children: books.authorName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n            children: [\"Rs. \", books.price]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 25\n      }, this)), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"amount\",\n        children: [\"Total Amount Rs. \", totalAmount]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"button-container\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"place-order\",\n        onClick: placeOrder,\n        children: \"CHECKOUT\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 9\n  }, this);\n}\n\n_s(OrderSummary, \"cu5CwN8Yabh3hUlQPbEJgAJ7e9M=\");\n\n_c = OrderSummary;\nexport default OrderSummary;\n\nvar _c;\n\n$RefreshReg$(_c, \"OrderSummary\");","map":{"version":3,"sources":["C:/Users/ayuanshi/BookstoreApplication/BookStore/src/component/bookStore-cart/OrderSummary.jsx"],"names":["React","useState","useEffect","StoreService","OrderSummary","props","userId","setUserId","totalAmount","setTotalAmount","getUserById","localStorage","getItem","then","responseDTO","responseData","data","catch","error","console","log","JSON","stringify","amount","parse","map","books","price","placeOrder","bookIds","push","bookId","order","response","window","location","replace","imgsrc","bookName","authorName"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { useState,useEffect } from 'react';\r\nimport StoreService from '../../service/StoreService';\r\n\r\nfunction OrderSummary(props){\r\n    const[userId,setUserId] = useState('')\r\n    const[totalAmount,setTotalAmount] = useState(0)\r\n    useEffect(() => {\r\n        new StoreService().getUserById(localStorage.getItem(\"userId\"))\r\n        .then(responseDTO => {\r\n            let responseData = responseDTO.data;\r\n            setUserId(responseData.data.userId)\r\n        }).catch(error => {\r\n            console.log(\"Error while Fetching Data\"+JSON.stringify(error));\r\n        })\r\n\r\n\r\n        let amount = 0;\r\n        JSON.parse(localStorage.getItem(\"cartDetails\")).map((books) => (\r\n           amount = amount + books.price\r\n        ))\r\n        setTotalAmount(amount)\r\n    },[])\r\n\r\n    const placeOrder = () => {\r\n        let bookIds = []\r\n        JSON.parse(localStorage.getItem(\"cartDetails\")).map((books) => (\r\n            bookIds.push(books.bookId)\r\n        ))\r\n    \r\n        let order = {\r\n            bookId:bookIds,\r\n            userId:userId\r\n        }\r\n        new StoreService().placeOrder(order)\r\n        .then(response => {\r\n            console.log(\"Data Added Successfully\");\r\n        }).catch(error => {\r\n            console.log(\"Error while Posting\",JSON.stringify(error));\r\n        })\r\n\r\n        window.location.replace(\"/summary\")\r\n    }\r\n\r\n    return(\r\n        <div className=\"cart\">\r\n                <div className=\"cart-container\">\r\n                    <div className=\"Book-container\">\r\n                        <div className='summary-title'>Order Summary</div>\r\n                    </div>\r\n                    {\r\n                    JSON.parse(localStorage.getItem(\"cartDetails\")).map((books) => (\r\n                        <div className=\"details\">\r\n                        <div className = \"book-container\">\r\n                                <img className=\"book-cover\" src = {books.imgsrc} alt=\"book-image\"></img>\r\n                            </div>\r\n                        <div className='book-info'>\r\n                        <h4 className='book-title'>{books.bookName}</h4>\r\n                        <p className='author-name'>{books.authorName}</p>\r\n                        <h4>Rs. {books.price}</h4>\r\n                    </div>\r\n                    </div>\r\n                    ))   \r\n                    }\r\n                    <p className = \"amount\">Total Amount Rs. {totalAmount}</p>\r\n                </div>\r\n                <div className=\"button-container\">\r\n                    <button className=\"place-order\" onClick={placeOrder} >CHECKOUT</button>\r\n                </div>\r\n        </div>\r\n    );\r\n}\r\nexport default OrderSummary"]},"metadata":{},"sourceType":"module"}